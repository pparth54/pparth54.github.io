[meta title:"Job listings in NYC" /]

[Header
  fullWidth:true
  title:"New York City Job listings analysis"
  subtitle:"This is my final submission for Homework 10"
  author:"Parth Patel"
  authorLink:"https://github.com/pparth54/DataViz_fall2021"
  date:"Nov 6, 2021"
  background:"#222222"
  color:"#ffffff"
 /]

#Introduction to the Data
I am using the New York city job listing data for this Homework. 
I took this dataset from https://data.world website. The link to the dataset is - https://data.world/new-york-city/nyc-jobs.
You may explore the data below.

This dataset is a very detailed analysis of the job listings in the New York City. The data lists all the available jobs, across different domains.
It contains almost all the information that you would see in a job posting like Job description, posting date, salary information, job category, etc.

I have analyzed the dataset and created two graphs.
1. First one shows the number of positions available across different Agencies, Career level and desgination level.
2. Second graph will show the range of average salary of the jobs across the same fields.

This graphs can help anyone for their job search. It can be used by college graduates and even experienced candidates.
It can help you filter your jobs according to the Agencies, designation and career levels. 

##NYC job listings Data - This is how the data looks in the tabular format.
[data name:"NYCJobs" source:"NYC_Jobs.csv" /]
[table data:NYCJobs/]

##Let's plot some cool visualizations using this dataset.
##Bar plot from New York City Job listings Dataset
##Select from the dropdown - 
1. If you want to display How many positions are open for what particular Agency, select Agency.
2. If you want to display open positions for different career levels, select Career Level.
3. If you want to display open positions for desgination levels, select Level.

##Select your field to plot on the x-axis
[var name:"selectVal" value:"Agency" /]
[Select value:selectVal options:`["Agency", "Career Level","Level"]`  /]

[IdyllVegaLite data:NYCJobs spec:`{
  mark: "bar",
  height: 500,
  width: 800,
  encoding: {
    x: {
      field: selectVal,
      type: "nominal"
    },
    y: {
      "aggregate": "sum", "field": "# Of Positions", "type": "quantitative"
    }
  }
}` /]

For this plot, I used the bar chart because the number of positions were very high and bar chart was the best choice as compared to scatter or line plot.
Line plot was also a good option but bar chart looked better and easy to read. 
I have also used an aggregate function sum to calculate the total number of positions.
For the X-axis I have used Nominal for Categorical data and for the y-axis I used quantitative scale for numerical field Number of positions.

##Line Plot from the New York City Job listings Dataset
##Select from the dropdown -
1. If you want to display the average Salary range for different Agency, select Agency.
2. If you want to display the average Salary range for different career levels, Career Level.
3. If you want to display the average Salary range for different desgination levels, Level.

##Select your field to plot on the x-axis
[var name:"selectVal" value:"Agency" /]
[Select value:selectVal options:`["Agency", "Career Level","Level"]`  /]

[IdyllVegaLite data:NYCJobs spec:`{
  width:"1000", 
  height: "500",
  "layer": [
    { 	"mark": "line",
  		"encoding": {
    		"x": {"field": selectVal, "type": "nominal"},
    		"y": {"aggregate":"mean","field": "Salary Range From", "type": "quantitative"},
    		"color": {"value": "red"}
  			}
  	},

     { 	"mark": "line",
  		"encoding": {
    		"x": {"field": selectVal, "type": "nominal"},
    		"y": {"aggregate":"mean","field": "Salary Range To", "type": "quantitative"},
    		"color": {"value": "blue"}
  			}
  	},
  ]}` /]

- The red line represents the lower value of the salary range.
- The blue line represents the upper value of the salary range.

For the second plot, I have created two layers:
1. Red line plot for showing Lower limit of salary
2. Blue line plot for showing the upper limit of salary.

I tried the bar plot as well as scatter plot. The scatter plot didnt distinguish the two layers and it was kind of hard to tell the range by just looking at the plot.
The same was the case with bar plot. Hence I went with the line plot.
The choice of scale was pretty straightforward. Again I used the aggregate mean function to calculate the mean of salaries. I used the Nominal scale for categorical variables and quantitative 
scale for the Salary field


